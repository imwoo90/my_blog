# Rust & Dioxus Blog for GitHub Pages

A high-performance, developer-centric blog template built with Rust and Dioxus, optimized for seamless deployment on GitHub Pages.

## üöÄ Features

-   **Rust & Dioxus**: Built on [Dioxus 0.7+](https://dioxuslabs.com/), a type-safe and performant frontend framework.
-   **Wasm-Powered**: Runs directly in the browser using WebAssembly for a near-native experience.
-   **Dynamic Content Management**: Supports folder-based Markdown content fetching at runtime via `gloo-net`.
-   **Automatic Indexing**: A robust `build.rs` script automatically generates metadata indexes (`posts_index.json`, `projects_index.json`) for seamless discovery.
-   **Local Image Support**: Content-specific images are managed alongside Markdown files in dedicated folders.
-   **Tailwind CSS**: Modern, responsive design system.
-   **Dynamic SEO**: Automatically updates browser titles and meta tags for each post.
-   **Theme Switching**: Support for Light/Dark mode based on user preference or system settings.
-   **Automated Deployment**: Built-in CI/CD with GitHub Actions, tailored for Dioxus 0.7 bundle structure.

## üõ† Tech Stack

-   **Language**: Rust
-   **Frontend**: Dioxus (Web platform)
-   **Styling**: Tailwind CSS
-   **Content**: Markdown (`pulldown-cmark`)
-   **Fetching**: `gloo-net` (Runtime async fetch)
-   **Deployment**: GitHub Actions & GitHub Pages

## üìÇ Project Structure

```bash
my_blog/
‚îú‚îÄ‚îÄ public/                 # Static assets served at the root (Wasm runtime access)
‚îÇ   ‚îî‚îÄ‚îÄ content/            # Dynamic Markdown-based content
‚îÇ       ‚îú‚îÄ‚îÄ posts/          # Blog posts (Indexable folders)
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ post-id/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ index.md
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ image.png
‚îÇ       ‚îú‚îÄ‚îÄ projects/       # Project entries (Indexable folders)
‚îÇ       ‚îú‚îÄ‚îÄ posts_index.json    # Generated by build.rs
‚îÇ       ‚îî‚îÄ‚îÄ projects_index.json # Generated by build.rs
‚îú‚îÄ‚îÄ assets/                 # Global assets (CSS, Favicons - processed by dx)
‚îú‚îÄ‚îÄ src/                    # Rust source code
‚îÇ   ‚îú‚îÄ‚îÄ components/         # UI components (Hero, Card, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ data/               # Data Layer (fetching & parsing)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ blog.rs         # Blog post models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ projects.rs     # Project models
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.rs        # Shared helpers (Markdown, Paths)
‚îÇ   ‚îú‚îÄ‚îÄ hooks/              # Custom Dioxus hooks (Syntax highlighting)
‚îÇ   ‚îú‚îÄ‚îÄ views/              # Main pages and routing
‚îÇ   ‚îî‚îÄ‚îÄ main.rs             # App entry point & global configuration
‚îú‚îÄ‚îÄ build.rs                # Automation script for content indexing
‚îú‚îÄ‚îÄ Dioxus.toml             # Project configuration & base_path
‚îî‚îÄ‚îÄ Cargo.toml              # Rust dependencies
```

## üöÄ Getting Started

### 1. Prerequisites

Ensure you have Rust installed. Then, install the Dioxus CLI:

```bash
cargo install dioxus-cli
```

### 2. Local Development

Run the following command to start the development server:

```bash
dx serve
```

> **Note on Base Path**: By default, `Dioxus.toml` is set with `base_path = ""`. This allows you to access the site at the root: `http://localhost:8080/`.

### 3. Build

To generate static files for production deployment:

```bash
dx build --release
```

## üö¢ Deployment & Automation

This project is designed for **zero-configuration deployment** via GitHub Actions (`.github/workflows/deploy.yml`).

### ü§ñ Smart Automation Features
-   **Auto Base Path Injection**: The CI/CD workflow automatically detects your GitHub repository name and injects it into `Dioxus.toml` and `index.html` during the build process.
-   **Dynamic Path Resolution**: The application uses a `get_base_path()` utility to detect the environment at runtime, ensuring that Markdown content and images load correctly whether you're on `localhost` or `github.io/repo/`.
-   **No Jekyll**: Automatically creates a `.nojekyll` file to ensure GitHub Pages serves your Wasm and data files correctly.

### ‚öôÔ∏è How to use for your own blog
1.  **Fork** this repository.
2.  **Push** any change to the `main` branch.
3.  **Enable GitHub Pages**: Go to your repo Settings > Pages and set the source to the `gh-pages` branch.
4.  **That's it!** Your blog will be live at `https://<username>.github.io/<repo-name>/` without any manual configuration.

## üìù Content Management

### Adding a Blog Post
1. Create a new folder in `public/content/posts/` (e.g., `my-new-post`).
2. Add an `index.md` file inside that folder.
3. Include frontmatter (YAML) at the top for metadata (title, date, author, image_url, tags).
4. `build.rs` will automatically detect it and update the index at compile time.

> **Technical Note**: `build.rs` extracts metadata from the YAML frontmatter. It also automatically resolves relative `image_url` paths (like `thumbnail.png`) into the correct `content/posts/ID/thumbnail.png` structure in the generated JSON index.

### Adding a Project
1. Create a new folder in `public/content/projects/` (e.g., `my-cool-project`).
2. Add an `index.md` file with frontmatter.
3. Like blog posts, projects are automatically indexed by `build.rs`.

### Image Handling
- Place images in the same folder as your `index.md`.
- Reference them in your Markdown or frontmatter using relative paths (e.g., `image_url: "thumbnail.png"`).
- The system automatically resolves these to the correct URLs regardless of your deployment environment (using the `<base>` tag and `get_base_path()` utility).
---

Built with ‚ù§Ô∏è using **Rust** and **Dioxus**.
